using Newtonsoft.Json;
using System.Collections.Generic;
using YPrime.Core.BusinessLayer.Interfaces;
using YPrime.Core.BusinessLayer.Models;
using YPrime.Core.BusinessLayer.Services;

namespace YPrime.BusinessLayer.UnitTests.Services.StudySettingServiceTests
{
    public class StudySettingServiceTestBase : ConfigServiceTestBase<StudySettingModel>
    {
        protected const string DefaultGetAllResponseContent = "[{\"properties\":{\"section\":\"eCOA\",\"group\":\"Tablet\",\"key\":\"DeviceTimeoutSiteBased\",\"label\":\"User Inactivity Timeout\",\"type\":\"Number\",\"order\":0,\"descriptor\":\"Minutes\",\"description\":\"This is the number, in minutes, when the device will log a user out if the screen is not touched.\",\"descImage\":null,\"defaultValue\":\"10\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"Min\",\"value\":0,\"error\":\"Value must be between 0 - 60\"},{\"type\":\"Max\",\"value\":60,\"error\":\"Value must be between 0 - 60\"}],\"dependentFields\":null,\"value\":\"5\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Tablet\",\"key\":\"DataSyncSiteBasedInterval\",\"label\":\"Scheduled Data Sync Interval\",\"type\":\"Number\",\"order\":1,\"descriptor\":\"Minutes\",\"description\":\"This is the number, in minutes, when the site based device will attempt to sync to the server. This sync happens automatically in the background. A user can still manually sync at any time.  The minimum length of time is 60 minutes, which equals one hour. The maximum length of time is 10,080 minutes, which equals one week.\",\"descImage\":null,\"defaultValue\":\"0\",\"placeHolderText\":\"\",\"valueIncrement\":30,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"MinOverZero\",\"value\":60,\"error\":\"Value must be between 60 - 10080\"},{\"type\":\"Max\",\"value\":10080,\"error\":\"Value must be between 60 - 10080\"}],\"dependentFields\":null,\"value\":\"60\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Tablet\",\"key\":\"BatteryLevelCritical\",\"label\":\"Critical Battery Warning\",\"type\":\"Number\",\"order\":2,\"descriptor\":\"Percent\",\"description\":\"Percentage of battery level when a user will not be able to access the diary until the battery has been sufficiently charged. This is a range of 0-100%.\",\"descImage\":null,\"defaultValue\":\"10\",\"placeHolderText\":\"\",\"valueIncrement\":5,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"Min\",\"value\":0,\"error\":\"Value must be between 0 - 100\"},{\"type\":\"Max\",\"value\":100,\"error\":\"Value must be between 0 - 100\"}],\"dependentFields\":null,\"value\":\"10\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Tablet\",\"key\":\"RemoteSubjectSetup\",\"label\":\"Allow Subject Setup on Device\",\"type\":\"Toggle\",\"order\":3,\"descriptor\":\"\",\"description\":\"If enabled, users with the proper access to setup subjects will be able to access the 'Create New Subject' button displayed on relevant screens.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"1\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Tablet\",\"key\":\"PatientChangeStatusSiteBasedEnabled\",\"label\":\"Change Subject Status\",\"type\":\"Toggle\",\"order\":4,\"descriptor\":\"\",\"description\":\"The Manage Subject page will have the ability to 'Change subject status'.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"1\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Tablet\",\"key\":\"IgnoreVisitOrder\",\"label\":\"Ignore Visit Schedule\",\"type\":\"Toggle\",\"order\":5,\"descriptor\":\"\",\"description\":\"If enabled, the site user is able to ignore the visit order and select any visit to complete.  If this flag is disabled, the site user must complete the visit’s in order.  This can be overriden at the Visit level using the AvailableAlways flag in the Visit table.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"0\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Tablet\",\"key\":\"ShowMissedVisitDate\",\"label\":\"Missed Visit Date\",\"type\":\"Toggle\",\"order\":6,\"descriptor\":\"\",\"description\":\"When enabled, when the Visit is missed, the date is captured.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"True\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Tablet\",\"key\":\"ShowMissedVisitReasons\",\"label\":\"Missed Visit Reason\",\"type\":\"Toggle\",\"order\":7,\"descriptor\":\"\",\"description\":\"When enabled, when the Visit is missed, the Reason is captured.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"True\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Tablet\",\"key\":\"ShowQuestionnaireProgress\",\"label\":\"Show Questionnaire Progress Bar\",\"type\":\"Toggle\",\"order\":8,\"descriptor\":\"\",\"description\":\"If enabled, questionnaires will show a progress bar while a Questionnaire is being completed.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"1\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Tablet\",\"key\":\"ShowVisitQuestionnaireProgress\",\"label\":\"Show Visit Progress Bar\",\"type\":\"Toggle\",\"order\":9,\"descriptor\":\"\",\"description\":\"If enabled, questionnaires will show current visit progress when being completed for a visit.  (Displays above Questionnaire Progress Bar if both are enabled)\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"1\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Tablet\",\"key\":\"ShowSiteNumberInHeader\",\"label\":\"Site Number in Header\",\"type\":\"Toggle\",\"order\":10,\"descriptor\":\"\",\"description\":\"The Site Number will appear on all site-facing pages on the tablet when this enabled.  The Subject Number will appear in the header for questionnaires.\",\"descImage\":null,\"defaultValue\":\"0\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"0\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Tablet\",\"key\":\"WebBackupTabletEnabled\",\"label\":\"Web Backup Expiration\",\"type\":\"Number\",\"order\":11,\"descriptor\":\"Days\",\"description\":\"Number of days web backup will stay enabled after activated for a site\",\"descImage\":null,\"defaultValue\":\"0\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"Min\",\"value\":0,\"error\":\"Value must be between 0 - 365\"},{\"type\":\"Max\",\"value\":365,\"error\":\"Value must be between 0 - 365\"}],\"dependentFields\":[{\"fieldKey\":\"WebBackupTabletPublicKey\",\"type\":\"GreaterThan\",\"value\":\"0\"}],\"value\":\"3\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Tablet\",\"key\":\"WebBackupTabletPublicKey\",\"label\":\"Web Backup Key\",\"type\":\"Text\",\"order\":12,\"descriptor\":\"\",\"description\":\"Public key provided by appetize for uploaded APK.  This key is required if Web Backup is enabled.\",\"descImage\":null,\"defaultValue\":\"0\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"MinLength\",\"value\":0,\"error\":\"0-60 Characters\"},{\"type\":\"MaxLength\",\"value\":60,\"error\":\"0-60 Characters\"}],\"dependentFields\":null,\"value\":\"85dp50phfbf7gzkxhdr1y6zr40\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Handheld\",\"key\":\"DeviceTimeoutHandheld\",\"label\":\"User Inactivity Timeout\",\"type\":\"Number\",\"order\":0,\"descriptor\":\"Minutes\",\"description\":\"This is the number, in minutes, when the handheld device will log a user out if the screen is not touched.\",\"descImage\":null,\"defaultValue\":\"10\",\"placeHolderText\":\"\",\"valueIncrement\":5,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"Min\",\"value\":0,\"error\":\"Value must be between 0 - 60\"},{\"type\":\"Max\",\"value\":60,\"error\":\"Value must be between 0 - 60\"}],\"dependentFields\":null,\"value\":\"10\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Handheld\",\"key\":\"DataSyncHandheldInterval\",\"label\":\"Scheduled Data Sync Interval\",\"type\":\"Number\",\"order\":1,\"descriptor\":\"Minutes\",\"description\":\"This is the number, in minutes, when the handheld device will attempt to sync data to the server. This sync happens automatically in the background. A user can still manually sync at any time.  The minimum length of time is 60 minutes, which equals one hour. The maximum length of time is 10,080 minutes, which equals one week.\",\"descImage\":null,\"defaultValue\":\"60\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"MinOverZero\",\"value\":60,\"error\":\"Value must be between 60 - 10080\"},{\"type\":\"Max\",\"value\":10080,\"error\":\"Value must be between 60 - 10080\"}],\"dependentFields\":null,\"value\":\"60\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Handheld\",\"key\":\"RemoteSubjectSetupHandheld\",\"label\":\"Allow Subject Setup on Device\",\"type\":\"Toggle\",\"order\":2,\"descriptor\":\"\",\"description\":\"If enabled, users with the proper access will be able to access the 'Create Subject' button displayed on relevant screens.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"1\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Handheld\",\"key\":\"PatientChangeStatusHandheldEnabled\",\"label\":\"Manage Subject Status During Unassignment\",\"type\":\"Toggle\",\"order\":3,\"descriptor\":\"\",\"description\":\"If enabled, this will turn on the ‘Change Status’ screen when unassigning subjects on handhelds.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"1\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Handheld\",\"key\":\"DaisyChainHandheldPatientForms\",\"label\":\"Daisy Chain Required Questionnaires\",\"type\":\"Toggle\",\"order\":4,\"descriptor\":\"\",\"description\":\"This is a flag to turn on subject handheld forms to be chained together. If enabled, the subject will automatically jump into next questionnaire based on the sequence. (0 = not enabled; 1 = enabled)\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"0\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Handheld\",\"key\":\"ActivateSubjectForms\",\"label\":\"Handheld Visit Activation\",\"type\":\"Toggle\",\"order\":5,\"descriptor\":\"\",\"description\":\"If enabled, the 'Manage Visits' button will show in the Site User Menu on handheld. Site users are able to activate subject forms on the handheld.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"1\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Handheld\",\"key\":\"WebBackupHandheldEnabled\",\"label\":\"Web Backup Expiration\",\"type\":\"Number\",\"order\":6,\"descriptor\":\"Days\",\"description\":\"Number of days the web backup link will be available for the subject.\",\"descImage\":null,\"defaultValue\":\"0\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"Min\",\"value\":0,\"error\":\"Value must be between 0 - 365\"},{\"type\":\"Max\",\"value\":365,\"error\":\"Value must be between 0 - 365\"}],\"dependentFields\":[{\"fieldKey\":\"WebBackupHandheldPublicKey\",\"type\":\"GreaterThan\",\"value\":\"0\"}],\"value\":\"3\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"Handheld\",\"key\":\"WebBackupHandheldPublicKey\",\"label\":\"Web Backup Key\",\"type\":\"Text\",\"order\":7,\"descriptor\":\"\",\"description\":\"Public key provided by appetize for uploaded APK.  This key is required if Web Backup is enabled.\",\"descImage\":null,\"defaultValue\":\"0\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"MinLength\",\"value\":0,\"error\":\"0-60 Characters\"},{\"type\":\"MaxLength\",\"value\":60,\"error\":\"0-60 Characters\"}],\"dependentFields\":null,\"value\":\"85dp50phfbf7gzkxhdr1y6zr40\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"General\",\"key\":\"MaxPatientLoginAttempts\",\"label\":\"Maximum Incorrect PIN Attempts\",\"type\":\"Number\",\"order\":0,\"descriptor\":\"\",\"description\":\"The maximum number of logins a subject can fail before being locked out of the system.\",\"descImage\":null,\"defaultValue\":\"10\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"Min\",\"value\":0,\"error\":\"Value must be between 0 - 100\"},{\"type\":\"Max\",\"value\":100,\"error\":\"Value must be between 0 - 100\"}],\"dependentFields\":null,\"value\":\"10\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"General\",\"key\":\"BringYourOwnDeviceAvailable\",\"label\":\"BYOD Enabled\",\"type\":\"Toggle\",\"order\":1,\"descriptor\":\"\",\"description\":\"This determines if the study has bring your own device functionality.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"One\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"True\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"General\",\"key\":\"CaregiversEnabled\",\"label\":\"Enable Caregiver Functions\",\"type\":\"Toggle\",\"order\":2,\"descriptor\":\"\",\"description\":\"If enabled, users with the proper access will be able to access the 'Manage Caregiver' button displayed on relevant screens.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"1\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"General\",\"key\":\"CaregiverPatientFormsEnabled\",\"label\":\"Allow Caregivers to Complete Subject Forms\",\"type\":\"Toggle\",\"order\":3,\"descriptor\":\"\",\"description\":\"If enabled, Caregivers will have the ability to take subject questionnaires, If not enabled, Caregivers will have the ability to take Caregiver questionnaires only.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"1\",\"isDirty\":false},{\"properties\":{\"section\":\"eCOA\",\"group\":\"General\",\"key\":\"PatientPINLength\",\"label\":\"Patient Pin Length\",\"type\":\"Dropdown\",\"order\":4,\"descriptor\":\"\",\"description\":\"Patient Pin Length Description\",\"descImage\":null,\"defaultValue\":\"4\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":[{\"value\":\"4\",\"label\":\"4\"},{\"value\":\"6\",\"label\":\"6\"}],\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"6\",\"isDirty\":false},{\"properties\":{\"section\":\"StudyWide\",\"group\":\"SubjectID\",\"key\":\"PatientNumberIsStudyWide\",\"label\":\"Study Wide Subject ID\",\"type\":\"Toggle\",\"order\":0,\"descriptor\":\"\",\"description\":\"When enabled, the subject number will be generated based on the subject count in study.  The subject Number will be considered as 'study-wide' and numbers are incremental across the study rather than by site. If disabled, the count will be at the site-level.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"False\",\"isDirty\":false},{\"properties\":{\"section\":\"StudyWide\",\"group\":\"SubjectID\",\"key\":\"PatientNumberPrefix\",\"label\":\"Subject ID Prefix\",\"type\":\"Text\",\"order\":1,\"descriptor\":\"\",\"description\":\"When creating a new subject number, this value will be placed at the beginning of the number (i.e. an 'S' will precede the subject number)\",\"descImage\":\"Subject_ID_Prefix_Example.svg\",\"defaultValue\":\"\",\"placeHolderText\":\"Max 10 Characters\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"MinLength\",\"value\":0,\"error\":\"0-10 characters\"},{\"type\":\"MaxLength\",\"value\":10,\"error\":\"0-10 characters\"}],\"dependentFields\":null,\"value\":\"S\",\"isDirty\":false},{\"properties\":{\"section\":\"StudyWide\",\"group\":\"SubjectID\",\"key\":\"PatientNumberPrefixSiteSeparator\",\"label\":\"Prefix/Site ID Separator\",\"type\":\"ShortText\",\"order\":2,\"descriptor\":\"\",\"description\":\"When creating a new subject number, this value will be used as a separator between the prefix and the site ID (i.e. use a separator '-')\",\"descImage\":\"Prefix_Site_ID_Separator_Example.svg\",\"defaultValue\":\"\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"MinLength\",\"value\":0,\"error\":\"0-1 characters\"},{\"type\":\"MaxLength\",\"value\":1,\"error\":\"0-1 characters\"}],\"dependentFields\":null,\"value\":\"-\",\"isDirty\":false},{\"properties\":{\"section\":\"StudyWide\",\"group\":\"SubjectID\",\"key\":\"PatientNumberIncludeSiteId\",\"label\":\"Include Site ID\",\"type\":\"Toggle\",\"order\":3,\"descriptor\":\"\",\"description\":\"With this enabled, when a new subject number is created, this value indicates whether the Site ID will be included (0 = not enabled; 1 = enabled)\",\"descImage\":\"Site_ID_Enabled_Example.svg\",\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"1\",\"isDirty\":false},{\"properties\":{\"section\":\"StudyWide\",\"group\":\"SubjectID\",\"key\":\"PatientNumberSiteSubjectNumberSeparator\",\"label\":\"Site ID/Subject ID Separator\",\"type\":\"ShortText\",\"order\":4,\"descriptor\":\"\",\"description\":\"When creating a new subject number, this value will be used as a separator between the Site ID and the Subject Number (i.e. use a separator of '-')\",\"descImage\":\"Site_ID_Sub_Separator_Example.svg\",\"defaultValue\":\"\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"MinLength\",\"value\":0,\"error\":\"0-1 characters\"},{\"type\":\"MaxLength\",\"value\":1,\"error\":\"0-1 characters\"}],\"dependentFields\":null,\"value\":\"-\",\"isDirty\":false},{\"properties\":{\"section\":\"StudyWide\",\"group\":\"SubjectID\",\"key\":\"PatientNumberLength\",\"label\":\"Subject ID Length\",\"type\":\"Number\",\"order\":5,\"descriptor\":\"\",\"description\":\"This value controls the length of the entire subject number. (i.e. with a length of '4' the number will be 4-numbers long)\",\"descImage\":\"Subject_ID_Length_Example.svg\",\"defaultValue\":\"4\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"Min\",\"value\":1,\"error\":\"Value must be between 1-9\"},{\"type\":\"Max\",\"value\":9,\"error\":\"Value must be between 1-9\"}],\"dependentFields\":null,\"value\":\"9\",\"isDirty\":false},{\"properties\":{\"section\":\"StudyWide\",\"group\":\"General\",\"key\":\"StudySponsor\",\"label\":\"Sponsor Name\",\"type\":\"Text\",\"order\":0,\"descriptor\":\"\",\"description\":\"This controls the name of the sponsor displayed on the front page and functions.\",\"descImage\":null,\"defaultValue\":\"\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"Required\",\"value\":0,\"error\":\"Required\"},{\"type\":\"MinLength\",\"value\":0,\"error\":\"0-60 characters\"},{\"type\":\"MaxLength\",\"value\":60,\"error\":\"0-60 characters\"}],\"dependentFields\":null,\"value\":\"YPrime\",\"isDirty\":false},{\"properties\":{\"section\":\"StudyWide\",\"group\":\"General\",\"key\":\"StudyName\",\"label\":\"Study Name\",\"type\":\"Text\",\"order\":1,\"descriptor\":\"\",\"description\":\"This is the name of the study displayed on the front page and functions.\",\"descImage\":null,\"defaultValue\":\"\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"Required\",\"value\":0,\"error\":\"Required\"},{\"type\":\"MinLength\",\"value\":0,\"error\":\"0-60 characters\"},{\"type\":\"MaxLength\",\"value\":60,\"error\":\"0-60 characters\"}],\"dependentFields\":null,\"value\":\"eCOA\",\"isDirty\":false},{\"properties\":{\"section\":\"StudyWide\",\"group\":\"General\",\"key\":\"Protocol\",\"label\":\"Protocol Number\",\"type\":\"Text\",\"order\":2,\"descriptor\":\"\",\"description\":\"This controls the Protocol number displayed on the front page.\",\"descImage\":null,\"defaultValue\":\"\",\"placeHolderText\":\"Max 50 Characters\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"MinLength\",\"value\":0,\"error\":\"0-50 characters\"},{\"type\":\"MaxLength\",\"value\":50,\"error\":\"0-50 characters\"}],\"dependentFields\":null,\"value\":\"4.1\",\"isDirty\":false},{\"properties\":{\"section\":\"StudyWide\",\"group\":\"General\",\"key\":\"StudyID\",\"label\":\"Study ID\",\"type\":\"Text\",\"order\":3,\"descriptor\":\"\",\"description\":\"This is the ID for the study matching the Study table in auth database.\",\"descImage\":null,\"defaultValue\":\"\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":true},\"validators\":[{\"type\":\"Required\",\"value\":0,\"error\":\"Required\"}],\"dependentFields\":null,\"value\":\"ea35d9db-9367-424d-809c-3ae47f5faf2f\",\"isDirty\":false},{\"properties\":{\"section\":\"StudyWide\",\"group\":\"General\",\"key\":\"SiteNumberLength\",\"label\":\"Site Number Length\",\"type\":\"Number\",\"order\":4,\"descriptor\":\"\",\"description\":\"The length of the Site Number\",\"descImage\":null,\"defaultValue\":\"4\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":null,\"readOnly\":false},\"validators\":[{\"type\":\"Required\",\"value\":0,\"error\":\"Required\"},{\"type\":\"Min\",\"value\":0,\"error\":\"Value must be between 0 - 20\"},{\"type\":\"Max\",\"value\":20,\"error\":\"Value must be between 0 - 20\"}],\"dependentFields\":null,\"value\":\"6\",\"isDirty\":false},{\"properties\":{\"section\":\"StudyWide\",\"group\":\"General\",\"key\":\"CSVExportDelimiter\",\"label\":\"Data Export Delimiter\",\"type\":\"Dropdown\",\"order\":5,\"descriptor\":\"\",\"description\":\"Delimiter for data exports\",\"descImage\":null,\"defaultValue\":\",\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":null,\"selectOptions\":[{\"value\":\",\",\"label\":\"comma (,)\"},{\"value\":\"|\",\"label\":\"pipe (|)\"},{\"value\":\";\",\"label\":\"semicolon (;)\"}],\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\",\",\"isDirty\":false},{\"properties\":{\"section\":\"StudyWide\",\"group\":\"General\",\"key\":\"IsEmailPdfEnabled\",\"label\":\"Attach PDF Confirmation to eMail\",\"type\":\"Toggle\",\"order\":8,\"descriptor\":\"\",\"description\":\"If enabled, email confirmations will include a PDF attachment of the email confirmation verbiage.\",\"descImage\":null,\"defaultValue\":\"False\",\"placeHolderText\":\"\",\"valueIncrement\":0,\"toggleText\":{\"trueText\":\"On\",\"falseText\":\"Off\"},\"selectOptions\":null,\"readOnly\":false},\"validators\":null,\"dependentFields\":null,\"value\":\"False\",\"isDirty\":false}]";
        protected const string GetAllStudyCustomsResponseContent = "[{\"key\":\"StudyName\",\"value\":\"YPrime eCOA-Sandbox\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":null},{\"key\":\"StudySponsor\",\"value\":\"YPrime\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":null},{\"key\":\"Protocol\",\"value\":\"eCOA-Sandbox\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":null},{\"key\":\"ActivateSubjectForms\",\"value\":\"0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Handheld Variable\",\"notes\":\"[bool 0/1] If enabled the ''Manage Visits'' button will show in the Site User Menu on handheld. Site users are able to activate subject forms on the handheld.\"},{\"key\":\"AutoSaveDiaryEntries\",\"value\":\"0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"[bool 0/1] If ''1'' the app will autosave the SiteBased DiaryEntry as the user answers each question.\"},{\"key\":\"BaseStudyVersion\",\"value\":\"4.0.1.0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"Base version\"},{\"key\":\"BatteryLevelCritical\",\"value\":\"10\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"[int 0-100] Percentage of battery level when a user will not be able to access the diary until the battery has been sufficiently charged.\"},{\"key\":\"BringYourOwnDeviceAvailable\",\"value\":\"false\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"This determines if the study has bring your own device functionality.\"},{\"key\":\"CaregiverPatientFormsEnabled\",\"value\":\"0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"[bool 0/1] If ''1'' caregivers will have the ability to take patient questionnaires, if ''0'' caregivers will have the ability to take caregiver questionnaires.\"},{\"key\":\"CaregiversEnabled\",\"value\":\"0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"[bool 0/1] If ''1'' users with the proper access will be able to access the ''Manage Caregiver'' button displayed on relevant screens.\"},{\"key\":\"CSVExportDelimiter\",\"value\":\",\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"Delimiter for grid csv exports\"},{\"key\":\"DaisyChainHandheldPatientForms\",\"value\":\"1\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Handheld Variable\",\"notes\":\"This is a flag to turn on subject handheld forms to be chained together.1 indicates that it is enabled.\"},{\"key\":\"DataSyncHandheldInterval\",\"value\":\"0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Handheld Variable\",\"notes\":\"This is the number in minutes when the handheld device will attempt to sync to the server. 0 indicates that it is disabled.\"},{\"key\":\"DataSyncSiteBasedInterval\",\"value\":\"0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"This is the number in minutes when the sitebased device will attempt to sync to the server. 0 indicates that it is disabled.\"},{\"key\":\"DepotLotExpirationAlertThreshold\",\"value\":\"180,120,30\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Alert Variable\",\"notes\":\"List of thresholds for Depot Lot Expiration Alert.  The threshold list represents when the alert should trigger, in days.  For example, 180,120,0 would fire the alert once at 180, once at 120, and once at 0.  Add as many threshold triggers as you like, separated by comma.\"},{\"key\":\"DeviceTimeoutHandheld\",\"value\":\"10\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Handheld Variable\",\"notes\":\"This indicates the time in minutes before a Handheld eCOA device will timeout.\"},{\"key\":\"DeviceTimeoutSiteBased\",\"value\":\"10\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"This indicates the time in minutes before a Site Based eCOA device will timeout.\"},{\"key\":\"DrugAckType\",\"value\":\"Simple\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Drug Variable\",\"notes\":\"Type of drug order acknowledgement, can be Simple, Detailed, or TempTail\"},{\"key\":\"EmailPrependSubjectLine\",\"value\":\"Dev-\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"Use this key to prepend anything to the email subject line. Key is required.\"},{\"key\":\"GlobalDateFormat\",\"value\":\"dd-MMM-yyyy\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"Format for date used throughout the system\"},{\"key\":\"GlobalRandomizationCap\",\"value\":\"1000\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"The value, if meet or exceeded, for which the randomization page will display a error message and not allow any further randomizations.\"},{\"key\":\"GlobalScreeningCap\",\"value\":\"1000\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"The value, if meet or exceeded, for which the screening page (either with or without IC) will display a error message and not allow any further screenings \"},{\"key\":\"IgnoreVisitOrder\",\"value\":\"0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"[bool 0/1] This flag will tell the app whether or not to force the user to complete visit''s in order. This can be overriden at the Visit level using the AvailableAlways flag in the Visit table.\"},{\"key\":\"InitialOnSiteActivation\",\"value\":\"true\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Drug Variable\",\"notes\":\"Place initial order after site activation\"},{\"key\":\"InitialOrderPatientStatusTypeID\",\"value\":\"1\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Drug Variable\",\"notes\":\"The PatientStatusTypeID that fires the initial drug order once a subject at that site is in this status.  ONLY used when 'InitialOnSiteActivation' != 'true'\"},{\"key\":\"IsEmailPdfEnabled\",\"value\":\"False\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"Enable or Disables the email pdf attachement for confirmations.\"},{\"key\":\"IsWebDiaryBackup\",\"value\":\"False\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"This flag is used to set the stylings for web diary\"},{\"key\":\"Low Depot Inventory Alert Interval Days\",\"value\":\"1\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Alert Variable\",\"notes\":\"The interval, in days, the system will send a Low Depot Inventory Alert when the threshold is crossed.  For example, a value of 7 will send the low depot inventory alert every 7 days while the threshold value is crossed.  Used in conjunction with Low Depot Inventory Alert Threshold\"},{\"key\":\"Low Depot Inventory Alert Threshold\",\"value\":\"40\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Alert Variable\",\"notes\":\"The threshold, in kit count, that will trigger a low depot inventory alert.  The inventory level has to been below the threshold, and will be sent based on the Low Depot Inventory Alert Interval Days value.  \"},{\"key\":\"Low Site Inventory Alert Interval\",\"value\":\"7\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Alert Variable\",\"notes\":\"The interval, in days, the system will send a Low Site Inventory Alert when the threshold is crossed.  For example, a value of 7 will send the low site inventory alert every 7 days while the threshold value is crossed.  Used in conjunction with Low Site Inventory Alert Threshold\"},{\"key\":\"Low Site Inventory Alert Threshold\",\"value\":\"10\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Alert Variable\",\"notes\":\"The threshold, in kit count, that will trigger a low site inventory alert.  The inventory level has to been below the threshold, and will be sent based on the Low Site Inventory Alert Interval Days value.  \"},{\"key\":\"MaxPatientLoginAttempts\",\"value\":\"10\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Variable\",\"notes\":\"The maximum number of logins a subject can fail before being locked out of the system.\"},{\"key\":\"NumberOfTemperatureDecimalPlaces\",\"value\":\"2\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"Number of decimal places to allow when entering shipper temperature details\"},{\"key\":\"OverdueShipmentThresholds\",\"value\":\"5,7\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Alert Variable\",\"notes\":\"List of thresholds for Overdue Shipments.  The threshold list represents when the alert should trigger, in days.  For example, 5,7,9 would fire the alert once at 5 days, once at 7 days, and once at 9 days.  Add as many threshold triggers as you like, separated by comma.\"},{\"key\":\"PatientChangeStatusHandheldEnabled\",\"value\":\"1\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Handheld Variable\",\"notes\":\"This is a flag to turn on Change Status screen when disassociating patients on handhelds.1 indicates that it is enabled.\"},{\"key\":\"PatientChangeStatusSiteBasedEnabled\",\"value\":\"0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"This is a flag to turn on Change Status option from the subject management page on tablets. 1 indicates that it is enabled.\"},{\"key\":\"PatientNumberIncludeSiteId\",\"value\":\"1\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Subject Variable\",\"notes\":\"[bool 0/1] When creating a new subject/patient number this value indicates whether the site id will be included.\"},{\"key\":\"PatientNumberIsStudyWide\",\"value\":\"false\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"true if subject number should be generated based on subject count in study, false if count should be at site level\"},{\"key\":\"PatientNumberLength\",\"value\":\"3\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Subject Variable\",\"notes\":\"Control the overall format of Subject number. \"},{\"key\":\"PatientNumberPrefix\",\"value\":\"S\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Subject Variable\",\"notes\":\"[string] When creating a new subject/patient number this value will be placed at the beginning of the number. (ie. 'S' + SiteNumber + SubjectNumber)\"},{\"key\":\"PatientNumberPrefixSiteSeparator\",\"value\":\"-\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Subject Variable\",\"notes\":\"[string] When creating a new subject/patient number this value will be used as a seperator between the prefix and the site id. (ie. Seperator is '-': S + '-' SiteNumber + SubjectNumber)\"},{\"key\":\"PatientNumberSiteSubjectNumberSeparator\",\"value\":\"-\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Subject Variable\",\"notes\":\"[string] When creating a new subject/patient number this value will be used as a seperator between the site id and the subject number. (ie. Seperator is '*': S + SiteNumber + '*' + SubjectNumber)\"},{\"key\":\"PatientPINLength\",\"value\":\"4\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Variable\",\"notes\":\"This determines the number of digits for the Patient PIN. This value can be set to 4 or 6.\"},{\"key\":\"PatientStartingCount\",\"value\":\"0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"Controls starting patient number\"},{\"key\":\"QuestionnaireComplianceId\",\"value\":\"54322938-26CC-4BA2-3A21-08D7906AD5EF\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"Questionnaire Id for patient compliance view\"},{\"key\":\"RandomizationQuestionId\",\"value\":\"9893a18a-e1f9-e611-80d8-000d3a1029a9\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"Question identification to be used by randomization\"},{\"key\":\"RemoteSubjectSetup\",\"value\":\"1\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"[bool 0/1] If ''1'' users with the proper access will be able to access the ''Setup Subject'' button displayed on relevant screens.\"},{\"key\":\"RemoteSubjectSetupHandheld\",\"value\":\"1\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Handheld Variable\",\"notes\":\"[bool 0/1] If ''1'' users with the proper access will be able to access the ''Create Subject'' button displayed on relevant screens.\"},{\"key\":\"ShowCalculationDetails\",\"value\":\"1\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"[0 = no, 1 = yes] This shows the calculation details on the site based tablet.\"},{\"key\":\"ShowMissedVisitDate\",\"value\":\"false\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"If 'true' app will ask for a missed visit date after a user closes a visit.\"},{\"key\":\"ShowMissedVisitReasons\",\"value\":\"false\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"If 'true' app will ask for a missed visit reason after a user closes a visit.\"},{\"key\":\"ShowQuestionnaireProgress\",\"value\":\"1\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"[bool 0/1] If ''1'' questionnaires will show current progress when being completed.\"},{\"key\":\"ShowSimpleAcknowledgmentQuestion\",\"value\":\"true\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"Show the temperature excursion question on simple order acknowledgment\"},{\"key\":\"ShowSiteNumberInHeader\",\"value\":\"0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"This is a flag to display the Site Number in the header.1 indicates that it is enabled.\"},{\"key\":\"ShowVisitQuestionnaireProgress\",\"value\":\"1\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"[bool 0/1] If ''1'' questionnaires will show current visit progress when being completed.\"},{\"key\":\"SiteLotExpirationAlertThreshold\",\"value\":\"60,30,0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Alert Variable\",\"notes\":\"List of thresholds for Site Lot Expiration Alert.  The threshold list represents when the alert should trigger, in days.  For example, 180,120,0 would fire the alert once at 180, once at 120, and once at 0.  Add as many threshold triggers as you like, separated by comma.\"},{\"key\":\"SiteNumberLength\",\"value\":\"5\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"Site number length\"},{\"key\":\"StudyID\",\"value\":\"265326f4-e285-4117-a8ba-915d5373bd1f\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"ID for the study matching the Study table in auth db\"},{\"key\":\"StudyIndication\",\"value\":\"N/A\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"This is the clinical indication of the study (IE: Attention Deficit Hyperactivity Disorder)\"},{\"key\":\"StudyPhase\",\"value\":\"N/A\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"This is the clinical phase of the study\"},{\"key\":\"StudyTherapeuticArea\",\"value\":\"N/A\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"This is the clinical therapeutic area of the study (IE: Neurology)\"},{\"key\":\"StudyType\",\"value\":\"0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"Type of Study. Refer to StudyType Table\"},{\"key\":\"SupportChatEnabled\",\"value\":\"0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"This determines the visibility of the Support chat button\"},{\"key\":\"SupportChatURL\",\"value\":\"https://chat-eu3.stefanini.com/yprime/index.html\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"The url of the Support chat service\"},{\"key\":\"UpcomingPatientVisitWidgetInterval\",\"value\":\"10\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"Study Variable\",\"notes\":\"Patients with projected visits between today and today + interval days are included on the widget.\"},{\"key\":\"WebBackupHandheldEnabled\",\"value\":\"3\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Handheld Variable\",\"notes\":\"Enter number of days Web Backup link is available for subject.  If ZERO, Web Backup for subject is not available.\"},{\"key\":\"WebBackupHandheldPublicKey\",\"value\":\"exnhq3accp42u370tgt8grrmh0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Handheld Variable\",\"notes\":\"The public key for the eCOA handheld Build published to Appetize. Will get merged into the URL.\"},{\"key\":\"WebBackupTabletEnabled\",\"value\":\"5\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"Enter number of days to enable Web backupZero =  DISABLED, Any positive number = ENABLED\"},{\"key\":\"WebBackupTabletPublicKey\",\"value\":\"exnhq3accp42u370tgt8grrmh0\",\"lastUpdate\":\"0001-01-01T00:00:00\",\"group\":\"eCOA Site Based Variable\",\"notes\":\"The public key for the eCOA tablet Build published to Appetize. Will get merged into the URL.\"}]";

        protected readonly string ExpectedHttpAddress = $"{BaseTestHttpAddress}/StudySetting";
        protected readonly string ExpectedStudyCustomAddress = $"{BaseTestHttpAddress}/StudySetting/StudyCustom";

        protected readonly List<StudyCustomModel> AllStudyCustoms;

        protected StudySettingServiceTestBase()
            : base(DefaultGetAllResponseContent)
        { 
            AllStudyCustoms = JsonConvert.DeserializeObject<List<StudyCustomModel>>(GetAllStudyCustomsResponseContent);
        }

        protected IStudySettingService GetService()
        {
            var service = new StudySettingService(
                MockHttpFactory.Object, 
                MemoryCache,
                MockSessionService.Object,
                MockServiceSettings.Object,
                _authSettings,
                MockAuthService.Object);

            return service;
        }
    }
}
