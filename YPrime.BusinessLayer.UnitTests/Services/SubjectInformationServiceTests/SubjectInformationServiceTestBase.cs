using Microsoft.Extensions.Caching.Memory;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using Moq;
using Moq.Protected;
using Newtonsoft.Json;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Net.Http;
using System.Text;
using System.Threading;
using System.Threading.Tasks;
using YPrime.Core.BusinessLayer.Interfaces;
using YPrime.Core.BusinessLayer.Models;
using YPrime.Core.BusinessLayer.Services;

namespace YPrime.BusinessLayer.UnitTests.Services.SubjectInformationServiceTests
{
    public abstract class SubjectInformationServiceTestBase : ConfigServiceTestBase<SubjectInformationModel>
    {
        protected const string DefaultGetAllResponseContent = "[{\"suffix\":null,\"min\":\"{{21/September/2019-0d:1m:0y}}\",\"max\":\"{{06/November/2019+0d:0m:1y}}\",\"actionPanel\":{\"canDelete\":false,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"dd/MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"e87fb696-9bf2-4cca-517d-08d7360eac5d\",\"name\":\"Date of Birth - China \",\"businessRuleId\":\"f88240c6-5c5c-4307-4f67-08d7c44f5102\",\"businessRuleName\":\"Information Rule Question Visibility \",\"businessRuleTrueFalseIndicator\":true,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"CN\",\"id\":\"3773c8dc-191f-49dd-a76a-08d7379bf249\"}],\"sequence\":1},{\"suffix\":null,\"min\":\"{{1/1/2000-0d:0m:0y}}\",\"max\":\"{{TODAY+0d:0m:0y}}\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"dd/MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"fa767332-7de2-49c0-517e-08d7360eac5d\",\"name\":\"Date of Birth - US\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"},{\"name\":\"CA\",\"id\":\"ed3c49b0-9c00-4151-a771-08d7379bf249\"},{\"name\":\"IQ\",\"id\":\"ad54aab5-ca0e-4085-a770-08d7379bf249\"}],\"sequence\":2},{\"suffix\":null,\"min\":\"{{08/October/2019-0d:0m:5y}}\",\"max\":\"{{31/October/2019+0d:0m:1y}}\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"dd/MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"4fa583c8-7120-4994-5180-08d7360eac5d\",\"name\":\"Date Year \",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"CN\",\"id\":\"3773c8dc-191f-49dd-a76a-08d7379bf249\"}],\"sequence\":3},{\"suffix\":null,\"min\":\"{{9/28/2019-0d:0m:5y}}\",\"max\":\"{{9/28/2019+0d:0m:5y}}\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"dd/MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"e81f0f96-0376-4312-5181-08d7360eac5d\",\"name\":\"Year & Month - Both\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"CN\",\"id\":\"3773c8dc-191f-49dd-a76a-08d7379bf249\"},{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"}],\"sequence\":4},{\"suffix\":null,\"min\":\"\",\"max\":\"3\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[{\"id\":\"3b5617a2-9a21-4d3c-66ea-08d7379c857f\",\"name\":\"Male\",\"displayOrder\":1},{\"id\":\"d6b70bef-a2f1-4f0e-66eb-08d7379c857f\",\"name\":\"Female\",\"displayOrder\":2},{\"id\":\"787294f7-c076-48c5-66ec-08d7379c857f\",\"name\":\"Other\",\"displayOrder\":3}],\"id\":\"d83d5ca0-a37c-4c20-5182-08d7360eac5d\",\"name\":\"Gender - US \",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":true,\"choiceType\":\"Radio Button\",\"countries\":[{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"}],\"sequence\":5},{\"suffix\":\"lbs\",\"min\":\"1\",\"max\":\"200\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":2,\"choices\":[],\"id\":\"3af2143e-b81e-45b4-5183-08d7360eac5d\",\"name\":\"Weight - Both \",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Number Spinner\",\"countries\":[{\"name\":\"CN\",\"id\":\"3773c8dc-191f-49dd-a76a-08d7379bf249\"},{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"}],\"sequence\":6},{\"suffix\":\"cm\",\"min\":\"1\",\"max\":\"999\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":0,\"choices\":[],\"id\":\"a1424ad7-0f5c-4f11-5184-08d7360eac5d\",\"name\":\"Height - Both\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Number Spinner\",\"countries\":[{\"name\":\"CN\",\"id\":\"3773c8dc-191f-49dd-a76a-08d7379bf249\"},{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"}],\"sequence\":7},{\"suffix\":null,\"min\":\"1\",\"max\":\"30\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"7a474268-f3bb-4594-5185-08d7360eac5d\",\"name\":\"Text Allow Number - US \",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Free Text\",\"countries\":[{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"}],\"sequence\":8},{\"suffix\":null,\"min\":\"2\",\"max\":\"10\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":true,\"decimal\":null,\"choices\":[],\"id\":\"fb083d79-f813-4cd7-5186-08d7360eac5d\",\"name\":\"Text Disable Numeric - Both\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Free Text\",\"countries\":[{\"name\":\"CN\",\"id\":\"3773c8dc-191f-49dd-a76a-08d7379bf249\"},{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"}],\"sequence\":9},{\"suffix\":null,\"min\":\"\",\"max\":\"3\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[{\"id\":\"953427a2-9653-432d-8c64-08d7563eb432\",\"name\":\"test choice 1 Lorem ipsum dolor sit amet, co\",\"displayOrder\":1},{\"id\":\"7c8de43e-07f7-48d8-8c65-08d7563eb432\",\"name\":\"test choice 2 Lorem ipsum dolor sit amet, consectetuer\",\"displayOrder\":2},{\"id\":\"dfdec792-0a0a-4fbc-8c66-08d7563eb432\",\"name\":\"test choice 3 Lorem ipsum dolor sit amet, consectetuer adipi\",\"displayOrder\":3}],\"id\":\"904ca957-8b99-4b68-845c-08d75320f678\",\"name\":\"test radio button subject attribute. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula.\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Radio Button\",\"countries\":[{\"name\":\"CN\",\"id\":\"3773c8dc-191f-49dd-a76a-08d7379bf249\"},{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"}],\"sequence\":10},{\"suffix\":null,\"min\":\"\",\"max\":\"1\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[{\"id\":\"9fc0994f-2fd0-4992-4f8c-08d75965d966\",\"name\":\"Male\",\"displayOrder\":1}],\"id\":\"15528a65-7b23-4782-ec16-08d75965d958\",\"name\":\"Gender\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Radio Button\",\"countries\":[{\"name\":\"CN\",\"id\":\"3773c8dc-191f-49dd-a76a-08d7379bf249\"}],\"sequence\":11},{\"suffix\":null,\"min\":\"{{1/1/1992-0d:0m:0y}}\",\"max\":\"{{11/1/2019+1d:1m:1y}}\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"9a1891c9-89df-4199-cf40-08d75c9faad5\",\"name\":\"TestMMMM\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"}],\"sequence\":12},{\"suffix\":null,\"min\":\"{{TODAY-0d:0m:0y}}\",\"max\":\"{{TODAY+0d:0m:0y}}\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"44b957d7-3b88-4ce9-cf41-08d75c9faad5\",\"name\":\"Test YYYY\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"}],\"sequence\":13},{\"suffix\":null,\"min\":\"\",\"max\":\"2\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[{\"id\":\"62b54888-59c6-441c-b1ee-08d762db8fcc\",\"name\":\"Other\",\"displayOrder\":1},{\"id\":\"f2b83b6f-733b-4205-b1ef-08d762db8fcc\",\"name\":\"Asia\",\"displayOrder\":2}],\"id\":\"8a36266c-9a59-4971-8772-08d762db8fc1\",\"name\":\"Ethnicity\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Radio Button\",\"countries\":[{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"}],\"sequence\":14},{\"suffix\":null,\"min\":\"{{11/6/2017-0d:0m:2y}}\",\"max\":\"{{1/3/2020+0d:0m:3y}}\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"dd/MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"3c76db63-9531-4172-0ad5-08d7908d072e\",\"name\":\"Test Date Spinner\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"}],\"sequence\":15},{\"suffix\":null,\"min\":\"1\",\"max\":\"2\",\"actionPanel\":{\"canDelete\":false,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"190aee49-8b09-4519-c7a5-08d7b5579ef8\",\"name\":\"Free text\",\"businessRuleId\":\"8680393e-f3d0-4c74-b765-08d7b3b3caf7\",\"businessRuleName\":\"Ammar's Test\",\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Free Text\",\"countries\":[{\"name\":\"CH\",\"id\":\"38c09bd2-0c35-4100-af85-0560a9592cbc\"}],\"sequence\":16},{\"suffix\":null,\"min\":null,\"max\":null,\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"dd/MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"95d3a9e2-bbbb-4ffa-cca7-08d7bac6f029\",\"name\":\"Please enter your surgery date:\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"FR\",\"id\":\"f6bb18ca-151a-4588-aec5-86999ea16d8d\"}],\"sequence\":17},{\"suffix\":null,\"min\":null,\"max\":null,\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"MMMM\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"ebcbece4-6a7f-479e-cca9-08d7bac6f029\",\"name\":\"Please provide subject's month of birth:\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"FR\",\"id\":\"f6bb18ca-151a-4588-aec5-86999ea16d8d\"}],\"sequence\":18},{\"suffix\":null,\"min\":\"0\",\"max\":\"50\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":0,\"choices\":[],\"id\":\"5d68e14b-7e2a-46d7-ccaa-08d7bac6f029\",\"name\":\"Number of hospitalizations for allergies this year:\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Number Spinner\",\"countries\":[{\"name\":\"FR\",\"id\":\"f6bb18ca-151a-4588-aec5-86999ea16d8d\"}],\"sequence\":19},{\"suffix\":null,\"min\":\"{{TODAY-0d:0m:0y}}\",\"max\":\"{{TODAY+0d:0m:0y}}\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"dd/MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"15247fa3-44c9-43a5-ccab-08d7bac6f029\",\"name\":\"test 10\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"BE\",\"id\":\"a219bc9f-35e5-4ae3-a769-08d7379bf249\"}],\"sequence\":20},{\"suffix\":null,\"min\":\"{{27/February/2018+0d:0m:0y}}\",\"max\":\"{{27/February/2019+0d:0m:0y}}\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"dd/MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"5e520f02-3d59-450c-94df-08d7bba955f8\",\"name\":\"date of birth\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"CH\",\"id\":\"38c09bd2-0c35-4100-af85-0560a9592cbc\"},{\"name\":\"AU\",\"id\":\"f283ea25-7029-4db9-a768-08d7379bf249\"}],\"sequence\":21},{\"suffix\":null,\"min\":\"1\",\"max\":\"5\",\"actionPanel\":{\"canDelete\":false,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"4349e4c1-2ad3-436e-06f3-08d7becf1649\",\"name\":\"free text\",\"businessRuleId\":\"1c70c655-f6f1-4c38-8ed8-08d7b3ad5df0\",\"businessRuleName\":\"steve rule test 1\",\"businessRuleTrueFalseIndicator\":true,\"choiceType\":\"Free Text\",\"countries\":[{\"name\":\"AU\",\"id\":\"f283ea25-7029-4db9-a768-08d7379bf249\"}],\"sequence\":22},{\"suffix\":null,\"min\":\"\",\"max\":\"1\",\"actionPanel\":{\"canDelete\":false,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[{\"id\":\"7a9303d9-cd16-45e1-e9ea-08d7becf2fa3\",\"name\":\"male\",\"displayOrder\":1}],\"id\":\"2f3ec426-8e21-414f-06f4-08d7becf1649\",\"name\":\"radio button test\",\"businessRuleId\":\"1c70c655-f6f1-4c38-8ed8-08d7b3ad5df0\",\"businessRuleName\":\"steve rule test 1\",\"businessRuleTrueFalseIndicator\":true,\"choiceType\":\"Radio Button\",\"countries\":[{\"name\":\"CH\",\"id\":\"38c09bd2-0c35-4100-af85-0560a9592cbc\"}],\"sequence\":23},{\"suffix\":null,\"min\":\"{{TODAY-0d:0m:0y}}\",\"max\":\"{{TODAY+0d:0m:0y}}\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"dd/MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"825a5980-5edb-4858-b027-08d7c066df6a\",\"name\":\"first\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"AU\",\"id\":\"f283ea25-7029-4db9-a768-08d7379bf249\"}],\"sequence\":24},{\"suffix\":null,\"min\":\"{{13/June/2018-0d:0m:0y}}\",\"max\":\"{{TODAY+0d:0m:0y}}\",\"actionPanel\":{\"canDelete\":false,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"dd/MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"0871a9da-0b44-4e6e-a460-08d7c451b450\",\"name\":\"Date Of Birth\",\"businessRuleId\":\"f88240c6-5c5c-4307-4f67-08d7c44f5102\",\"businessRuleName\":\"Information Rule Question Visibility \",\"businessRuleTrueFalseIndicator\":false,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"IN\",\"id\":\"cdc9eb86-d81b-4577-a76f-08d7379bf249\"},{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"}],\"sequence\":26},{\"suffix\":null,\"min\":\"\",\"max\":\"2\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[{\"id\":\"f37d4055-52f8-4ab0-0d19-08d7c451c718\",\"name\":\"Male\",\"displayOrder\":1},{\"id\":\"59e0d67d-7d66-4c14-0d1a-08d7c451c718\",\"name\":\"Female\",\"displayOrder\":2}],\"id\":\"4491930d-3d6a-4c70-a461-08d7c451b450\",\"name\":\"Gender\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Radio Button\",\"countries\":[{\"name\":\"IN\",\"id\":\"cdc9eb86-d81b-4577-a76f-08d7379bf249\"}],\"sequence\":27},{\"suffix\":null,\"min\":\"100\",\"max\":\"300\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":0,\"choices\":[],\"id\":\"1e63ba52-c9be-43a0-a462-08d7c451b450\",\"name\":\"Height\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Number Spinner\",\"countries\":[{\"name\":\"IN\",\"id\":\"cdc9eb86-d81b-4577-a76f-08d7379bf249\"}],\"sequence\":28},{\"suffix\":null,\"min\":\"{{15/March/2019+0d:0m:0y}}\",\"max\":\"{{TODAY+0d:0m:0y}}\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"MMMM\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"3c8d01bf-7d4d-49c6-132f-08d7c51346f5\",\"name\":\"Date of Birth - Test\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"CH\",\"id\":\"38c09bd2-0c35-4100-af85-0560a9592cbc\"},{\"name\":\"AU\",\"id\":\"f283ea25-7029-4db9-a768-08d7379bf249\"}],\"sequence\":30},{\"suffix\":null,\"min\":\"\",\"max\":\"0\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"86cffcdd-df15-4828-ee50-08d7c68c93db\",\"name\":\"test\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Radio Button\",\"countries\":[{\"name\":\"CH\",\"id\":\"38c09bd2-0c35-4100-af85-0560a9592cbc\"}],\"sequence\":31},{\"suffix\":null,\"min\":\"\",\"max\":\"1\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[{\"id\":\"b1c10f88-2a6a-4acb-f5d3-08d7c6c23d08\",\"name\":\"Small\",\"displayOrder\":1}],\"id\":\"15e08f05-4ffc-4576-66fc-08d7c6c23cfa\",\"name\":\"Test Radion\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Radio Button\",\"countries\":[{\"name\":\"AU\",\"id\":\"f283ea25-7029-4db9-a768-08d7379bf249\"}],\"sequence\":32},{\"suffix\":null,\"min\":\"1\",\"max\":\"2\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":true,\"decimal\":null,\"choices\":[],\"id\":\"73629e85-c04c-4524-cfdf-08d7da657658\",\"name\":\"Test Free text\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Free Text\",\"countries\":[{\"name\":\"CH\",\"id\":\"38c09bd2-0c35-4100-af85-0560a9592cbc\"}],\"sequence\":33},{\"suffix\":null,\"min\":\"\",\"max\":\"2\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[{\"id\":\"4f8ce420-5f1a-4126-532c-08d7db2c640c\",\"name\":\"Female\",\"displayOrder\":1},{\"id\":\"f7cff2c3-0a18-4f95-532d-08d7db2c640c\",\"name\":\"Male\",\"displayOrder\":2}],\"id\":\"808f8684-fc9c-4984-a192-08d7db2c63fc\",\"name\":\"Please select the subject's gender. \",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Radio Button\",\"countries\":[{\"name\":\"CH\",\"id\":\"38c09bd2-0c35-4100-af85-0560a9592cbc\"},{\"name\":\"AU\",\"id\":\"f283ea25-7029-4db9-a768-08d7379bf249\"},{\"name\":\"BE\",\"id\":\"a219bc9f-35e5-4ae3-a769-08d7379bf249\"},{\"name\":\"CN\",\"id\":\"3773c8dc-191f-49dd-a76a-08d7379bf249\"},{\"name\":\"IN\",\"id\":\"cdc9eb86-d81b-4577-a76f-08d7379bf249\"},{\"name\":\"IQ\",\"id\":\"ad54aab5-ca0e-4085-a770-08d7379bf249\"},{\"name\":\"CA\",\"id\":\"ed3c49b0-9c00-4151-a771-08d7379bf249\"},{\"name\":\"AZ\",\"id\":\"e2c524f6-1701-4322-31ca-08d7aa702068\"},{\"name\":\"VI\",\"id\":\"13f7f775-60d8-42cf-6b72-08d7ae9d0fef\"},{\"name\":\"GB\",\"id\":\"e72605a4-758b-46e0-b9da-1ddfd69c28b2\"},{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"},{\"name\":\"FR\",\"id\":\"f6bb18ca-151a-4588-aec5-86999ea16d8d\"},{\"name\":\"DE\",\"id\":\"b7e84b2d-a577-4b38-ad11-f5b88c4a255d\"}],\"sequence\":34},{\"suffix\":null,\"min\":\"1\",\"max\":\"2\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"4415b376-8d24-486f-c8db-08d7e236f57e\",\"name\":\" Free text\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Free Text\",\"countries\":[{\"name\":\"AU\",\"id\":\"f283ea25-7029-4db9-a768-08d7379bf249\"}],\"sequence\":35},{\"suffix\":null,\"min\":\"\",\"max\":\"1\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[{\"id\":\"b1732353-0e84-4a0b-2d33-08d7e7c1b8cc\",\"name\":\"One\",\"displayOrder\":1}],\"id\":\"ee2549a0-209f-4241-c8dc-08d7e236f57e\",\"name\":\"BR Test\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Radio Button\",\"countries\":[{\"name\":\"CH\",\"id\":\"38c09bd2-0c35-4100-af85-0560a9592cbc\"}],\"sequence\":36},{\"suffix\":null,\"min\":\"{{01/April/2020-1d:0m:0y}}\",\"max\":\"{{07/May/2020+1d:0m:0y}}\",\"actionPanel\":{\"canDelete\":false,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"9ac8bf7f-38a0-4da9-c4b3-08d7f2c1a17b\",\"name\":\"Date Of  Birth\",\"businessRuleId\":\"b33f3c82-b336-4538-7343-08d7b9fca8b8\",\"businessRuleName\":\"Date \",\"businessRuleTrueFalseIndicator\":true,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"CH\",\"id\":\"38c09bd2-0c35-4100-af85-0560a9592cbc\"}],\"sequence\":37},{\"suffix\":null,\"min\":null,\"max\":null,\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"71f7482b-b210-40d7-c504-08d7f68123fe\",\"name\":\"DateLengthTest\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"US\",\"id\":\"50e847b7-c81e-43f6-9e07-30fb675232dc\"}],\"sequence\":38},{\"suffix\":null,\"min\":\"\",\"max\":\"1\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[{\"id\":\"3d5e38c8-3b7b-4400-6d10-08d7f8411ea1\",\"name\":\"one\",\"displayOrder\":1}],\"id\":\"96500b3f-b050-4333-ba15-08d7f8411e91\",\"name\":\"test 20\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Radio Button\",\"countries\":[{\"name\":\"CH\",\"id\":\"38c09bd2-0c35-4100-af85-0560a9592cbc\"}],\"sequence\":39},{\"suffix\":null,\"min\":\"{{01/June/2020+0d:0m:0y}}\",\"max\":\"{{TODAY+0d:0m:0y}}\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"dd/MMMM/yyyy\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[],\"id\":\"9d43817c-8d23-43ce-0634-08d812f6495e\",\"name\":\"Mickey Mouse\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Date Spinner\",\"countries\":[{\"name\":\"IN\",\"id\":\"cdc9eb86-d81b-4577-a76f-08d7379bf249\"}],\"sequence\":40},{\"suffix\":null,\"min\":\"\",\"max\":\"1\",\"actionPanel\":{\"canDelete\":true,\"canUpdate\":true,\"acknowledge\":false},\"dateFormat\":\"\",\"disableNumeric\":false,\"decimal\":null,\"choices\":[{\"id\":\"ded8ae48-a4ef-4c1b-5877-08d812f81064\",\"name\":\"a\",\"displayOrder\":1}],\"id\":\"263a4c11-17cf-47ac-0635-08d812f6495e\",\"name\":\"abc\",\"businessRuleId\":null,\"businessRuleName\":null,\"businessRuleTrueFalseIndicator\":null,\"choiceType\":\"Radio Button\",\"countries\":[{\"name\":\"AU\",\"id\":\"f283ea25-7029-4db9-a768-08d7379bf249\"}],\"sequence\":41}]";
        protected const string ChinaCountryId = "3773c8dc-191f-49dd-a76a-08d7379bf249";
        protected const string ChinaCountryAbbreviation = "CN";

        protected string ExpectedHttpAddress = $"{BaseTestHttpAddress}/SubjectInformation";

        protected SubjectInformationServiceTestBase()
            : base(DefaultGetAllResponseContent)
        { }

        protected ISubjectInformationService GetService()
        {
            var memCache = new MemoryCache(new MemoryCacheOptions());
            var service = new SubjectInformationService(
                MockHttpFactory.Object, 
                memCache,
                MockSessionService.Object,
                MockServiceSettings.Object,
                _authSettings,
                MockAuthService.Object);

            return service;
        }
    }
}
